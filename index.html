<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attractive Resume Builder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <main class="container">
        <!-- Left Form Section -->
        <section class="form-section">
            <div class="form-header">
                <h1>Resume Builder</h1>
                <p>Create a stunning resume in minutes.</p>
            </div>

            <div class="form-content">
                <!-- Personal Information -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-user-circle"></i> Personal Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input id="name" type="text" placeholder="e.g. Jane Doe">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input id="email" type="email" placeholder="e.g. jane@email.com">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input id="phone" type="text" placeholder="e.g. (555) 123-4567">
                        </div>
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input id="location" type="text" placeholder="e.g. New York, NY">
                        </div>
                    </div>
                </div>

                <!-- Professional Summary -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-file-alt"></i> Professional Summary</h2>
                    <div class="form-group">
                        <textarea id="summary" rows="5" placeholder="Write a brief summary of your career..."></textarea>
                    </div>
                </div>

                <!-- Education Section -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-graduation-cap"></i> Education</h2>
                    <div id="education-container">
                        <!-- Education items will be injected here -->
                    </div>
                    <button id="add-education-btn" class="btn-add"><i class="fas fa-plus"></i> Add Education</button>
                </div>

                <!-- Skills Section -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-cogs"></i> Skills</h2>
                    <div class="form-group">
                        <label for="skills">Enter skills separated by commas</label>
                        <textarea id="skills" rows="4" placeholder="e.g. JavaScript, React, Node.js..."></textarea>
                    </div>
                </div>

                <!-- Experience Section -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-briefcase"></i> Work Experience</h2>
                    <div id="experience-container">
                        <!-- Experience items will be injected here -->
                    </div>
                    <button id="add-experience-btn" class="btn-add"><i class="fas fa-plus"></i> Add Experience</button>
                </div>

                <!-- Projects Section -->
                <div class="form-card">
                    <h2 class="form-card-title"><i class="fas fa-lightbulb"></i> Projects</h2>
                    <div id="projects-container">
                        <!-- Project items will be injected here -->
                    </div>
                    <button id="add-project-btn" class="btn-add"><i class="fas fa-plus"></i> Add Project</button>
                </div>
            </div>
             <div class="form-footer">
                <button id="downloadBtn"><i class="fas fa-download"></i> Download as PDF</button>
            </div>
        </section>

        <!-- Right Preview Section -->
        <section class="preview-section">
            <div id="resume-preview" class="resume-card">
                <!-- Preview will be rendered here -->
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

:root {
    --primary-color: #6366F1;
    --secondary-color: #8B5CF6;
    --background-color: #f0f2f5;
    --text-color: #1f2937;
    --card-background: rgba(255, 255, 255, 0.7);
    --border-color: rgba(209, 213, 219, 0.5);
    --shadow-color: rgba(99, 102, 241, 0.2);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--background-color);
    background-image: 
        radial-gradient(circle at 15% 50%, #dbeafe, transparent 40%),
        radial-gradient(circle at 85% 30%, #e0e7ff, transparent 40%);
    color: var(--text-color);
    line-height: 1.6;
    overflow-x: hidden;
}

.container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
}

@media (min-width: 1024px) {
    .container {
        grid-template-columns: 1fr 1fr;
    }
}

/* Form Section */
.form-section {
    background: var(--card-background);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: 0 10px 30px var(--shadow-color);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
}

.form-header {
    padding: 2rem;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border-radius: 20px 20px 0 0;
    text-align: center;
}

.form-header h1 {
    font-size: 2rem;
    font-weight: 700;
}

.form-content {
    padding: 2rem;
    flex-grow: 1;
    overflow-y: auto;
}

.form-card {
    margin-bottom: 2rem;
}

.form-card:last-child {
    margin-bottom: 0;
}

.form-card-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--primary-color);
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.dynamic-item {
    border-top: 1px solid var(--border-color);
    padding-top: 1.5rem;
    margin-top: 1.5rem;
}

.form-group label {
    display: block;
    font-weight: 500;
    margin-bottom: 0.5rem;
}

input, textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    font-size: 0.95rem;
    background: rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
}

input:focus, textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--shadow-color);
}

textarea {
    resize: vertical;
}

.btn-add {
    background: none;
    border: 1px dashed var(--primary-color);
    color: var(--primary-color);
    padding: 0.75rem;
    width: 100%;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.btn-add:hover {
    background: rgba(99, 102, 241, 0.1);
    border-style: solid;
}

.btn-remove {
    background: #fee2e2;
    color: #ef4444;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
}

.btn-remove:hover {
    background: #ef4444;
    color: white;
}

.form-footer {
    padding: 2rem;
    border-top: 1px solid var(--border-color);
}

#downloadBtn {
    width: 100%;
    padding: 1rem;
    font-size: 1.1rem;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px var(--shadow-color);
}

#downloadBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px var(--shadow-color);
}

/* Preview Section */
.preview-section {
    position: sticky;
    top: 2rem;
    height: calc(100vh - 4rem);
}

.resume-card {
    background: white;
    padding: 2.5rem;
    border-radius: 20px;
    height: 100%;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
}

.preview-header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-color);
    line-height: 1.2;
}

.preview-contact {
    font-size: 0.9rem;
    color: #6b7280;
    margin: 0.5rem 0 1.5rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 1.5rem;
    justify-content: center;
}

.preview-section-title {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 0.5rem;
    margin: 2rem 0 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.item-preview {
    margin-bottom: 1.5rem;
}

.item-preview:not(:last-child) {
    padding-bottom: 1.5rem;
    border-bottom: 1px dashed var(--border-color);
}

.item-preview h4 {
    font-weight: 600;
    font-size: 1.1rem;
}

.item-preview .sub-text {
    font-style: italic;
    color: #6b7280;
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
}

.skills-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.skill-tag {
    background-color: #e0e7ff;
    color: var(--primary-color);
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.9rem;
    font-weight: 500;
}


/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: #f1f1f1;
}
::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover {
    background: #a5b4fc;
}
document.addEventListener('DOMContentLoaded', () => {
    let educationCount = 0;
    let experienceCount = 0;
    let projectCount = 0;

    const createDynamicItem = (id, type, fields) => {
        const item = document.createElement('div');
        item.className = `form-grid dynamic-item ${type}-item`;
        item.dataset.id = id;
        
        let fieldsHTML = fields.map(field => `
            <div class="form-group" style="${field.fullWidth ? 'grid-column: 1 / -1;' : ''}">
                <label>${field.label}</label>
                ${field.tag === 'textarea'
                    ? `<textarea class="${type}-${field.name}" rows="4" placeholder="${field.placeholder}"></textarea>`
                    : `<input type="text" class="${type}-${field.name}" placeholder="${field.placeholder}">`
                }
            </div>
        `).join('');

        item.innerHTML = `
            <div class="form-group" style="grid-column: 1 / -1; display: flex; justify-content: space-between; align-items: center;">
                <label style="margin: 0; font-weight: 600; text-transform: capitalize;">${type} #${id}</label>
                <button type="button" class="btn-remove" data-type="${type}" data-id="${id}">&times;</button>
            </div>
            ${fieldsHTML}
        `;
        return item;
    };

    const addEducation = () => {
        educationCount++;
        const fields = [
            { name: 'degree', label: 'Degree', placeholder: 'e.g. B.S. in Computer Science', fullWidth: true },
            { name: 'institution', label: 'Institution', placeholder: 'e.g. University of Technology', fullWidth: true },
            { name: 'year', label: 'Year', placeholder: 'e.g. 2020' }
        ];
        document.getElementById('education-container').appendChild(createDynamicItem(educationCount, 'education', fields));
    };

    const addExperience = () => {
        experienceCount++;
        const fields = [
            { name: 'title', label: 'Job Title', placeholder: 'e.g. Software Engineer' },
            { name: 'company', label: 'Company', placeholder: 'e.g. Tech Solutions Inc.' },
            { name: 'description', label: 'Description', placeholder: 'Describe your role...', tag: 'textarea', fullWidth: true }
        ];
        document.getElementById('experience-container').appendChild(createDynamicItem(experienceCount, 'experience', fields));
    };

    const addProject = () => {
        projectCount++;
        const fields = [
            { name: 'name', label: 'Project Name', placeholder: 'e.g. Awesome App' },
            { name: 'tech', label: 'Technologies Used', placeholder: 'e.g. React, Firebase' },
            { name: 'description', label: 'Description', placeholder: 'Describe the project...', tag: 'textarea', fullWidth: true }
        ];
        document.getElementById('projects-container').appendChild(createDynamicItem(projectCount, 'project', fields));
    };

    const updatePreview = () => {
        const data = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            location: document.getElementById('location').value,
            summary: document.getElementById('summary').value,
            skills: document.getElementById('skills').value.split(',').map(s => s.trim()).filter(s => s),
            education: Array.from(document.querySelectorAll('.education-item')).map(item => ({
                degree: item.querySelector('.education-degree').value,
                institution: item.querySelector('.education-institution').value,
                year: item.querySelector('.education-year').value,
            })),
            experience: Array.from(document.querySelectorAll('.experience-item')).map(item => ({
                title: item.querySelector('.experience-title').value,
                company: item.querySelector('.experience-company').value,
                description: item.querySelector('.experience-description').value,
            })),
            projects: Array.from(document.querySelectorAll('.project-item')).map(item => ({
                name: item.querySelector('.project-name').value,
                tech: item.querySelector('.project-tech').value,
                description: item.querySelector('.project-description').value,
            })),
        };

        const renderSection = (title, icon, items, renderer) => {
            if (items.length === 0 || (items.length === 1 && Object.values(items[0]).every(v => !v))) return '';
            return `
                <div>
                    <h3 class="preview-section-title"><i class="fas ${icon}"></i> ${title}</h3>
                    ${items.map(renderer).join('')}
                </div>
            `;
        };

        const previewHTML = `
            <div class="preview-header" style="text-align: center;">
                <h1>${data.name || 'Your Name'}</h1>
                <div class="preview-contact">
                    ${data.email ? `<span><i class="fas fa-envelope"></i> ${data.email}</span>` : ''}
                    ${data.phone ? `<span><i class="fas fa-phone"></i> ${data.phone}</span>` : ''}
                    ${data.location ? `<span><i class="fas fa-map-marker-alt"></i> ${data.location}</span>` : ''}
                </div>
            </div>

            ${data.summary ? `<div><h3 class="preview-section-title"><i class="fas fa-user"></i> Professional Summary</h3><p>${data.summary}</p></div>` : ''}
            
            ${renderSection('Education', 'fa-graduation-cap', data.education, e => `
                <div class="item-preview"><h4>${e.degree}</h4><p class="sub-text">${e.institution} (${e.year})</p></div>
            `)}

            ${data.skills.length > 0 ? `<div><h3 class="preview-section-title"><i class="fas fa-cogs"></i> Skills</h3><div class="skills-preview">${data.skills.map(s => `<span class="skill-tag">${s}</span>`).join('')}</div></div>` : ''}
            
            ${renderSection('Work Experience', 'fa-briefcase', data.experience, e => `
                <div class="item-preview"><h4>${e.title}</h4><p class="sub-text">${e.company}</p><p>${e.description}</p></div>
            `)}
            
            ${renderSection('Projects', 'fa-lightbulb', data.projects, p => `
                <div class="item-preview"><h4>${p.name}</h4><p class="sub-text">${p.tech}</p><p>${p.description}</p></div>
            `)}
        `;
        document.getElementById('resume-preview').innerHTML = previewHTML;
    };

    document.getElementById('add-education-btn').addEventListener('click', addEducation);
    document.getElementById('add-experience-btn').addEventListener('click', addExperience);
    document.getElementById('add-project-btn').addEventListener('click', addProject);

    document.querySelector('.form-content').addEventListener('click', (e) => {
        if (e.target.classList.contains('btn-remove')) {
            const type = e.target.dataset.type;
            const id = e.target.dataset.id;
            document.querySelector(`.${type}-item[data-id="${id}"]`).remove();
            updatePreview();
        }
    });

    document.querySelector('.form-section').addEventListener('input', updatePreview);

    document.getElementById('downloadBtn').addEventListener('click', () => {
        const resume = document.getElementById('resume-preview');
        const opt = {
            margin: [0.5, 0.2],
            filename: 'My_Resume.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, useCORS: true },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };
        html2pdf().from(resume).set(opt).save();
    });
    
    // Initial State: Add one of each dynamic section to start
    addEducation();
    addExperience();
    addProject();
    updatePreview();
});